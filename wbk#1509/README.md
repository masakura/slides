# WordVolcano 番外編@さくらハウス発表資料
あまり詳細なお話はできないので、小分けにした話をいくつか。

## 目次
* WordPress で Backbone.js がどう使われているか調査してみた
* MVC Framework 選び
  - Backbone.js の特徴
  - AngularJS の特徴
* WP REST API + AngularJS でちょっとしたアプリを作ってみた


## WordPress で Backbone.js がどう使われているか調査してみた
WordPress は Backbone.js が使われていました。実際にはメディアの管理画面くらいのようです。MVC でサイトを構築するのではなく、部分的な導入に止まるのであまり面白みはないのですが...

逆に、MVC を使った方がいいところに適切に使われていたので、使用例として非常に面白く、紹介します。

* どうやって Backbone.js を使っているところを特定したか
* Backbone.js がどのように使われているのかをどう調査したか?

を中心に話します。


## MVC Framework 選び
フロントエンド向けの MVC Framework はたくさんありますが、Backbone.js と AngularJS に焦点をあてて解説します。ここに来るような人は、WordPress だけでなく、アプリの開発も含めてやっていこうと思っている人たちだと思いますので、MVC Framework 選びの参考になればとおもいます。


### Backbone.js
* jQuery からの乗り換え組にすごく分かりやすい
  - Backbone.View だけ使うこともできる
  - Backbone.View は極端ないい方をすると、コーディングスタイルが揃った jQuery
  - jQuery は書く人による差がかなり出るけど、ある程度それを抑えられる
  - Backbone.View を覚えてから、Backbone.Model を使うなど、少しずつ覚えられる
* 全体的に冗長になりやすい
  - Backbone.js がやってくれることはそんなに多くない
  - コード量削減にはそこまで寄与しない
  - jQuery のみよりはマシだけど、それでも個人毎の書き方の差が出る
  - そういうののために Marionette とかがある
* 将来がちょっと不安?


### AngularJS
* フルスタック! AngularJS Way!
  - コンポーネント指向で組み合わせて使うところは Backbone.js と似てるかもだけど、必要なものはある程度揃っている
  - Two Way Binding 超便利!
  - MVW って考え方は好き
  - 最初で覚えないといけないコンポーネントの数がそこそこ多い (Backbone.js のように Backbone.View だけでってのは難しい)
  - 書き方をある程度強要される (AngularJS way)
  - 必要なものは標準で揃っているので、コード量削減には一定の効果がある
  - でも、jQuery を知っているから、Backbone.js が簡単に見えるだけで、ゼロから覚えないといけない量はむしろ AngularJS の方が簡単かも
* Angular 2.0 ですごく変わる...
  - サイドバイサイド実行が可能なので、新しい部分だけ Angular 2.0 ってのも OK!
  - Google の社内では公開していないのも含めて、2000 くらいのプロジェクトがあるそうで、マイグレーションは Google にとっても重要だそうです


## WP REST API + AngularJS でちょっとしたアプリを作ってみた
個人的には、CMS の使命の一つの SEO というものは SPA 方式のアプリと非常に相性が悪いと考えています。SPA では JavaScript が動作しない限り、コンテンツが表示されないからです。検索エンジンにとって、非常に都合が悪いです。

将来的には、PhantomJS などを利用して JavaScript を動作させた上で検索インデックスを作るようなことになると思いますが、今はそうではありません。

今の状態で、CMS + SPA というスタイルで何ができるようになるかはまだ分かりませんが、作ってみないのと分からないといえないことも多いので作ってみました。

投稿を一覧で見れるというそれだけなんですが、SPA で作ったことにより、レスポンスがいいとか、通信量が少なくて済むなどのメリットはあり、CMS で作ったサイトに対し、モバイルサイトを CMS に頼るのではなく、SPA アプリで作るというのはありかもしれません。

* jq 便利
  - curl http://site1/wp-json/wp/v2/posts | jq '.' -C | less -R
  - すげー便利!